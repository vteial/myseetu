<sign-in>

    <header class="header-bar">
        <button class="btn pull-left icon icon-arrow-back"
                data-navigation="$previous-page"></button>
        <div class="center">
            <h1 class="title">{ moduleName }</h1>
        </div>
    </header>

    <div class="content">
        <div class="padded-full">
            <div class="input-wrapper">
                <label class="floating-label" for="userUserId">User Id</label>
                <input class="with-label" type="text" id="userUserId">
            </div>
            <div class="input-wrapper">
                <label class="floating-label" for="userPassword">Password</label>
                <input class="with-label" type="password" id="userPassword" >
            </div>
            <div class="padded-top">
                <button class="btn primary pull-right" onclick="{ signIn }">Sign In</button>
            </div>
            <p>Lost your password? Reset your password from <a href="#!reset-password">here</a>!</p>
            <p>Do not have an account yet? <a href="#!sign-up">Register</a> and become member!</p>
        </div>
    </div>

    <script>
        var self = this, moduleId = 'signIn', moduleName = 'Sign In'
        this.moduleName = moduleName

        this.on('close', function (self) {
            console.log(moduleId + ' close started...')
            self.close()
            console.log(moduleId + ' close finished...')
        });

        var successSignUp = function(res) {
            if(res.type === 0) {
                window.location = '/home.html'
            } else {
                phonon.notif(res.message, 3000, false)
            }
        }

        var failSignUp = function(res) {
            phonon.notif(res.message, 3000, false)
        }

        signIn() {
            var user = {
                userId : this.userUserId.value,
                password : this.userPassword.value,
            }
            sessionService.signIn(user, successSignUp, failSignUp)
        }

    </script>

</sign-in>